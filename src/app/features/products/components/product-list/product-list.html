<section>
  <mat-card-title>Notre catalogue</mat-card-title>
  <div class="counters">
    <span class="counter">üõí Panier: {{ getCartCount() }}</span>
    <span class="counter">‚ù§Ô∏è Favoris: {{ getFavoritesCount() }}</span>
  </div>
  <app-filter
    (chosenCategory)="categorySignal.set($event)"
  ></app-filter>
  <div class="list-products">
    @for (product of viewProducts(); track product.id) {
      <app-product-card
        [product]="product"
        [isFavorite]="isInFavorites(product.id)"
        (productAddedTCard)="onProductAddedToCart($event)"
        (productAddedToFavorites)="onProductAddedToFavorite($event)"
        (productRemoveFromFavorites)="onProductRemoveFromFavorite($event)"
        (rateAdded)="onAddedRate($event)"
      ></app-product-card>
    } @empty {
      <p>Aucun produit disponible...</p>
    }
    <div class="product-stats">
      <p><strong>{{ products.length }}</strong> produits au total</p>
      <p><strong>{{ nbInStock() }}</strong> produits en stock</p>
      <p><strong>{{ getCartCount() }}</strong> articles dans le panier</p>
      <p><strong>{{ getFavoritesCount() }}</strong> produits favoris</p>
    </div>
  </div>
</section>
